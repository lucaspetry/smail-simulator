<!doctype html>
<html lang="pt-br">
    
<head>
    <meta charset="utf-8">
    <meta name="description" content="Smail: Simulator">
    <meta name="author" content="Lucas May Petry">
    
    <title>Smail: Simulador</title>
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/menu.css">
    
    <script src="js/enums.js"></script>
    <script src="js/operationCenter.js"></script>
    <script src="js/smailSimulator.js"></script>
    <script src="js/interface.js"></script>
</head>

<body>
    <div id="menu">
        <ul>
            <li onclick="showHideBox('about_box')">
                <img src="images/appbar.information.png" width="50px" />
                <span class="tooltiptext">Sobre</span>
            </li>
            <li onclick="showHideBox('settings_box')">
                <img src="images/appbar.cog.png" width="50px" />
                <span class="tooltiptext">Configurações</span>
            </li>
            <li onclick="showHideBox('time_settings_box')">
                <img src="images/appbar.timer.png" width="50px" />
                <span class="tooltiptext">Tempo de Simulação</span>
            </li>
            <li id="btn_play" onclick="playSimulation(this)">
                <img id="img_play" src="images/appbar.control.play.png" width="50px" />
                <span class="tooltiptext">Iniciar/Pausar</span>
            </li>
            <li onclick="stepSimulation()">
                <img src="images/appbar.control.step.forward.png" width="50px" />
                <span class="tooltiptext">Passo-a-Passo</span>
            </li>
            <li id="btn_stop" onclick="stopSimulation()">
                <img src="images/appbar.control.stop.png" width="50px" />
                <span class="tooltiptext">Parar</span>
            </li>
        </ul> 
    </div>
    
    <div id="main_box">
        <table border="0" style="border-collapse: collapse; height: 100%;">
            <tr>
                <div class="box_default" style="text-align: center; height: 50px; width: 888px; cursor: default;"><h2>Smail: Simulador de Servidores de E-mails</h2></div>
            </tr>
            <tr>
                <td>
                    <div class="box_default" style="text-align: center; height: 50px; width: 300px; margin-right: 2px;">0:00</div>
                </td>
                <td>
                    <div class="box_default" style="text-align: center; height: 50px; width: 572px">1</div>
                </td>
            </tr>
            <tr>
                <td rowspan="2" style="vertical-align: top;">
                    <div class="box_default" style="text-align: center; height: 100%; width: 300px;">
                        <span style="font-weight: bold; font-size: 1.3em;">Próximos Eventos</span>
                        <table id="events_table" border="0" style="border-collapse: collapse; width: inherit; margin-top: 10px">
                            <tr>
                                <th style="width: 30px;">#</th>
                                <th style="width: 100px;">TEC</th>
                                <th style="text-align: center;">Origem do Evento</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>3.2</td>
                                <td>Local</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>4</td>
                                <td>Local</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>8.2</td>
                                <td>Remota</td>
                            </tr>
                        </table>
                    
                    </div>
                </td>
                <td border="0">
                    <div class="box_default" style="text-align: center; height: 300px;">
                        <b>Stats:</b><br>
                        - Quadriculado com servidores ocupados<br>
                        <a href="https://github.com/hkelly93/d3-relationshipgraph">---- Opção 1</a><br>
                        <a href="http://bl.ocks.org/oyyd/859fafc8122977a3afd6">---- Opção 2</a><br>
                        <a href="http://bl.ocks.org/tjdecke/5558084">---- Opção 3</a><br>
                        <a href="http://bl.ocks.org/NPashaP/96447623ef4d342ee09b">- Dashboard: barras (sucesso/falha/adiamento) e pizza (LL/LR/RL/RR)</a><br>
                        <a href="http://dataaddict.fr/prenoms/#alain">- Linhas com média tempo de serviço e recepção</a><br>
                    
                    </div>
                </td>
            </tr>
            <tr>
                <td><div class="box_default" style="text-align: center; height: 200px;">3</div></td>
            </tr>
        </table>
        
    </div>
    
    <div id="black_box"></div>
    <div id="about_box">Sobre</div>
    <div id="settings_box">
        <h2 style="color: black;">Parâmetros de Simulação</h2>
        <br>
        <div class="scroll_box">
            <table border="0" style="width: 100%">
                <tr>
                    <td style="vertical-align: top;">
                        <table border="0">
                            <caption style="font-weight: bold; color: black; margin-bottom: 7px;"><br>Centros de Serviço</caption>
                            <tr>
                                <th style="text-align: left; width: 120px;">Centro de<br>Serviço</th>
                                <th><br>Servidores</th>
                            </tr>
                            <tr>
                                <td class="label_field">Destino Local</td>
                                <td style="text-align: center;"><input class="input_field" type="number" id="field_serversLocal"></td>
                            </tr>
                            <tr>
                                <td class="label_field">Destino Remoto</td>
                                <td style="text-align: center;"><input class="input_field" type="number" id="field_serversRemote"></td>
                            </tr>
                        </table>
                    </td>
                    <td>
                        <table border="0">
                            <caption style="font-weight: bold; color: black; margin-bottom: 7px;">Volume de Tráfego (%)<br>Origem x Destino</caption>
                            <tr>
                                <th style="text-align: left; width: 120px;"></th>
                                <th>Destino<br>Local</th>
                                <th>Destino<br>Remoto</th>
                            </tr>
                            <tr>
                                <th class="label_field">Origem Local</th>
                                <td><input class="input_field" type="number" min="0" step="0.01" id="field_trafficLL"></td>
                                <td><input class="input_field" type="number" min="0" step="0.01" id="field_trafficLR"></td>
                                <td id="trafficSumL"> = 100%</td>
                            </tr>
                            <tr>
                                <th class="label_field">Origem Remota</th>
                                <td><input class="input_field" type="number" min="0" step="0.01" id="field_trafficRL"></td>
                                <td><input class="input_field" type="number" min="0" step="0.01" id="field_trafficRR"></td>
                                <td id="trafficSumR"> = 100%</td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <br><br>
            <table border="0">
                <caption style="font-weight: bold; color: black; margin-bottom: 7px;">Proporção de Sucessos, Falhas e Adiamentos (%)</caption>
                <tr>
                    <th style="text-align: left; width: 120px;">Direção</th>
                    <th>Sucesso</th>
                    <th>Falha</th>
                    <th>Adiamento</th>
                </tr>
                <tr>
                    <td class="label_field">Local -> Local</td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateSuccessLL"></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateFailureLL"></td>
                    <td style="text-align: center;"><input class="input_field" type="number" min="0" step="0.01" id="field_ratePostponementLL"></td>
                    <td id="rateSumLL"> = 100%</td>
                </tr>
                <tr>
                    <td class="label_field">Local -> Remoto</td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateSuccessLR"></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateFailureLR"></td>
                    <td style="text-align: center;"><input class="input_field" type="number" min="0" step="0.01" id="field_ratePostponementLR"></td>
                    <td id="rateSumLR"> = 100%</td>
                </tr>
                <tr>
                    <td class="label_field">Remoto -> Local</td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateSuccessRL"></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateFailureRL"></td>
                    <td style="text-align: center;"><input class="input_field" type="number" min="0" step="0.01" id="field_ratePostponementRL"></td>
                    <td id="rateSumRL"> = 100%</td>
                </tr>
                <tr>
                    <td class="label_field">Remoto -> Remoto</td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateSuccessRR"></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_rateFailureRR"></td>
                    <td style="text-align: center;"><input class="input_field" type="number" min="0" step="0.01" id="field_ratePostponementRR"></td>
                    <td id="rateSumRR"> = 100%</td>
                </tr>
            </table>
            <br><br>
            <table border="0">
                <caption style="font-weight: bold; color: black; margin-bottom: 7px;">Tempo Entre Chegadas de E-mails</caption>
                <tr>
                    <th style="text-align: left; width: 80px;">Origem</th>
                    <th>Distribuição</th>
                </tr>
                <tr>
                    <td class="label_field">Local</td>
                    <td>
                        <select id="field_arrivalIntervalLocal" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_arrivalIntervalLocalParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_arrivalIntervalLocalParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_arrivalIntervalLocalParam3" disabled></td>                    
                </tr>
                <tr>
                    <td class="label_field">Remota</td>
                    <td>
                        <select id="field_arrivalIntervalRemote" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_arrivalIntervalRemoteParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_arrivalIntervalRemoteParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_arrivalIntervalRemoteParam3" disabled></td>                    
                </tr>
            </table>
            <br><br>
            <table border="0">
                <caption style="font-weight: bold; color: black; margin-bottom: 7px;">Tempo de Recepção de Acordo com a Direção</caption>
                <tr>
                    <th style="text-align: left; width: 120px;">Direção</th>
                    <th>Tempo</th>
                </tr>
                <tr>
                    <td class="label_field">Local -> Local</td>
                    <td>
                        <select id="field_receptionLL" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionLLParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionLLParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionLLParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">Local -> Remoto</td>
                    <td>
                        <select id="field_receptionLR" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionLRParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionLRParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionLRParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">Remoto -> Local</td>
                    <td>
                        <select id="field_receptionRL" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionRLParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionRLParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionRLParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">Remoto -> Remoto</td>
                    <td>
                        <select id="field_receptionRR" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionRRParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionRRParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_receptionRRParam3" disabled></td>
                </tr>
            </table>
            <br><br>
            <table border="0">
                <caption style="font-weight: bold; color: black; margin-bottom: 7px;">Tempo de Serviço de Acordo com o Tipo de Processamento</caption>
                <tr>
                    <th style="text-align: left; width: 120px;">Processamento</th>
                    <th>Tempo</th>
                </tr>
                <tr>
                    <td class="label_field">LLS</td>
                    <td>
                        <select id="field_serviceLLS" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLSParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLSParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLSParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">LLF</td>
                    <td>
                        <select id="field_serviceLLF" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLFParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLFParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLFParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">LLA</td>
                    <td>
                        <select id="field_serviceLLA" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLAParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLAParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLLAParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">LRS</td>
                    <td>
                        <select id="field_serviceLRS" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRSParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRSParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRSParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">LRF</td>
                    <td>
                        <select id="field_serviceLRF" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRFParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRFParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRFParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">LRA</td>
                    <td>
                        <select id="field_serviceLRA" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRAParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRAParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceLRAParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">RLS</td>
                    <td>
                        <select id="field_serviceRLS" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLSParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLSParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLSParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">RLF</td>
                    <td>
                        <select id="field_serviceRLF" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLFParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLFParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLFParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">RLA</td>
                    <td>
                        <select id="field_serviceRLA" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLAParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLAParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRLAParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">RRS</td>
                    <td>
                        <select id="field_serviceRRS" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRSParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRSParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRSParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">RRF</td>
                    <td>
                        <select id="field_serviceRRF" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRFParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRFParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRFParam3" disabled></td>
                </tr>
                <tr>
                    <td class="label_field">RRA</td>
                    <td>
                        <select id="field_serviceRRA" style="width: 130px;" onchange="updateFunctionParams(this)"></select>
                    </td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRAParam1" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRAParam2" disabled></td>
                    <td><input class="input_field" type="number" min="0" step="0.01" id="field_serviceRRAParam3" disabled></td>
                </tr>
            </table>
        </div>
    </div>
    
    <div id="time_settings_box">
        <table border="0">
            <tr>
                <td class="label_field">Tempo de Simulação</td>
                <td><input class="input_field" type="number" id="field_simulationTime"></td>
                <td>seg.</td>
            </tr>
            <tr>
                <td class="label_field">Semente de Aleatoriedade</td>
                <td><input class="input_field" type="number" id="field_simulationSeed"></td>
            </tr>
            <tr>
                <td class="label_field">Velocidade da Simulação</td>
                <td><input class="input_field" type="number" min="1" max="10" id="field_simulationSpeed"></td>
            </tr>
        </table>
    </div>

    <script>
        // Cria um novo simulador
        var simulator = new Simulator();
        
        // Carrega as configurações padrão na interface
        loadDefaultSettings();
    </script>
</body>
    
</html>